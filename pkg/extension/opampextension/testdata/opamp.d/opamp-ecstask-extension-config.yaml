extensions:
  ecs_task_observer:
    endpoint: http://my.task.metadata.endpoint
    port_labels: [A_DOCKER_LABEL_CONTAINING_DESIRED_PORT, ANOTHER_DOCKER_LABEL_CONTAINING_DESIRED_PORT]
    refresh_interval: 10s

receivers:
  receiver_creator:
    receivers:
      redis:
        rule: type == "container" && name matches "redis"
        config:
          password: container.labels["SECRET"]
    watch_observers: [ecs_task_observer]
exporters:
  sumologic:
service:
  pipelines:
    logs:
      receivers:
        - receiver_creator
      exporters:
        - sumologic
