receivers:
  carbon:
    endpoint: localhost:8080
    transport: udp
    tcp_idle_timeout: 5s
    parser:
      type: regex
      config:
        rules:
          - regexp: "(?P<key_base>test)\\.env(?P<key_env>[^.]*)\\.(?P<key_host>[^.]*)"
            name_prefix: "name-prefix"
            labels:
              dot.key: dot.value
              key: value
            type: cumulative
          - regexp: "(optional_prefix\\.)?(?P<key_just>test)\\.(?P<key_match>.*)"
          - regexp: "(experiment(?P<key_experiment>[0-9]+)\\.)?(?P<key_just>test)\\.(?P<key_match>.*)"
          - regexp: "(?P<key_just>test)\\.(?P<key_match>.*)"
        name_separator: "_"
exporters:
  sumologic:
service:
  pipelines:
    logs:
      receivers:
        - carbon
      exporters:
        - sumologic
