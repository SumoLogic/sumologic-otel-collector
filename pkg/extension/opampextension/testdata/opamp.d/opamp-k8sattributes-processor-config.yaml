receivers:
  otlp:
    protocols:
      grpc:
      http:
exporters:
  sumologic:
processors:
  k8sattributes:
    passthrough: false
    auth_type: "kubeConfig"
    extract:
      metadata:
        - k8s.pod.name
        - k8s.pod.uid
        - k8s.pod.ip
        - k8s.deployment.name
        - k8s.namespace.name
        - k8s.node.name
        - k8s.pod.start_time
        - k8s.cluster.uid

      annotations:
        - tag_name: a1
          key: annotation-one
          from: pod
        - tag_name: a2
          key: annotation-two
          from: pod
      labels:
        - tag_name: l1
          key: label1
          from: pod
        - tag_name: l2
          key: label2
          from: pod
    filter:
      namespace: ns2
      node: ip-111.us-west-2.compute.internal
      node_from_env_var: K8S_NODE
      labels:
        - key: key1
          value: value1
        - key: key2
          value: value2
          op: not-equals
      fields:
        - key: key1
          value: value1
        - key: key2
          value: value2
          op: not-equals
    pod_association:
      - sources:
        - from: resource_attribute
          name: ip
      - sources:
        - from: resource_attribute
          name: k8s.pod.ip
      - sources:
        - from: resource_attribute
          name: host.name
      - sources:
        - from: connection
          name: ip
    exclude:
      pods:
        - name: jaeger-agent
        - name: jaeger-collector
service:
    pipelines:
      logs:
        receivers:
          - otlp
        processors:
          - k8sattributes
        exporters:
          - sumologic
